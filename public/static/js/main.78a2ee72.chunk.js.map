{"version":3,"sources":["layout/layout.js","lib/axios.js","localStorage/add.js","components/cources.js","components/add.js","components/bascet.js","App.js","serviceWorker.js","redux/reduser/cource/cource.js","redux/reduser/rootreduser.js","index.js"],"names":["Layout","props","Url","useLocation","selectedKeys","pathname","mode","Item","key","to","children","instance","Axios","create","baseURL","AddCource","Perebor","Val","val","Data","num","status","id","number","ValData","cource","price","text","push","unshift","Add","_id","Local","localStorage","getItem","JSON","parse","forEach","find","item","setItem","stringify","Delete","result","Cources","Meta","Card","dispatch","useDispatch","useSelector","state","Cource","cources","useEffect","length","get","then","req","type","data","catch","e","console","log","fraction","className","map","index","hoverable","style","width","margin","cover","height","alt","src","url","title","description","marginTop","onClick","icon","post","DeleteCource","TextArea","Input","useState","course","setCourse","setPrice","setText","img","setImage","loadSub","setLoadSub","loading","setLoading","imageUrl","setImageUrl","uploadButton","layout","onSubmit","preventDefault","FormData","append","message","success","error","warning","handleSubmit","prefix","color","placeholder","onChange","target","value","test","name","listType","showUploadList","action","beforeUpload","file","isJpgOrPng","isLt2M","size","info","callback","reader","FileReader","addEventListener","readAsDataURL","getBase64","originFileObj","htmlType","disabled","Bascet","Courses","addCourses","AddLocal","Sum","setSum","Res","a","async","Number","header","footer","clear","bordered","dataSource","renderItem","Text","mark","App","path","exact","component","Boolean","window","location","hostname","match","initialState","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","app","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.78a2ee72.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Menu } from 'antd'\r\nimport { NavLink, useLocation } from 'react-router-dom'\r\n\r\nconst Layout = (props) => {\r\n  const Url = useLocation()\r\n  return (\r\n    <>\r\n      <Menu\r\n      selectedKeys={[Url.pathname]}\r\n      mode=\"horizontal\">\r\n      <Menu.Item key=\"/\">\r\n        <NavLink to=\"/\" >\r\n          Курсы\r\n        </NavLink>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"/bascet\">\r\n        <NavLink to=\"/bascet\">\r\n          Корзина\r\n        </NavLink>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"/add\">\r\n        <NavLink to=\"/add\">\r\n          добавить курс\r\n        </NavLink>\r\n      </Menu.Item>\r\n      </Menu>\r\n        {props.children}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Layout","import Axios from 'axios'\r\n\r\nconst instance = Axios.create({\r\n  baseURL: 'http://qqqwwweee.eu-4.evennode.com/',\r\n})\r\n\r\nexport default instance","export const AddCource = () => {\r\n  const Add = ( cource , num ) => {\r\n    let Data = {\r\n      id: cource._id ? cource._id: cource.id ,\r\n      cource: cource.cource,\r\n      price: cource.price,\r\n      text: cource.text,\r\n      number: cource.num ? cource.num: 1\r\n    }\r\n    /// проверка если есть курсы то достаем и приводим к обьекту если нет то пустой масив\r\n    const Local = localStorage.getItem('cources') ? JSON.parse(localStorage.getItem('cources')) : []\r\n    const Val = []\r\n    let status = [ true ] /// тока масивом работает\r\n      ////// проверка масива если есть уже  то добаление или удаление если число === 0\r\n      Local.forEach(val => {\r\n        Perebor( Val, val, Data, num, status )\r\n      })\r\n      // console.log(!!status[0]) // для понимания\r\n      ////////// проверка есть ли в масиве уже Data\r\n    const result = Val.find( item => {\r\n      if(item.id === Data.id ) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n    if(!!result === false && status[0]  ) { //  проверка если рес = false и есть масив\r\n      Val.push(Data)\r\n    }\r\n\r\n    ////////// кладем в локал сторожа и приводим к Json формату\r\n    localStorage.setItem( 'cources', JSON.stringify( Val ) )\r\n  }\r\n\r\n  const Delete = ( id ) => {\r\n    const Local = JSON.parse(localStorage.getItem('cources')) \r\n    const result = []\r\n    Local.forEach( item => {\r\n      if( item.id !== id ) {\r\n        result.push(item)\r\n      }\r\n    })\r\n    localStorage.setItem( 'cources', JSON.stringify( result ) )\r\n    return result\r\n  }\r\n\r\n  //1. пустой масив\r\n  //2. в функции перебора значение\r\n  //3. отображаемоу знач\r\n  //4. число на сколько хочеш увел или умен\r\n  //5. указывать статус, если не надо то ставить false\r\n  const Perebor = ( Val, val, Data, num, status  ) => {\r\n    // status тока масивом\r\n    if(val.id === Data.id ) {\r\n      if( val.number + num !== 0 ){\r\n        const ValData = {\r\n          id: val.id,\r\n          cource: val.cource,\r\n          price: val.price,\r\n          text: val.text,\r\n          number: val.number + num\r\n        }\r\n        Val.push(ValData)\r\n      } else {\r\n        if(!!status[0]) { status.unshift(false) }       // дата дало число меньше 0\r\n      }\r\n    } else {\r\n      Val.push(val)\r\n    }\r\n  }\r\n  \r\n  return { Add, Perebor, Delete }\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nimport Fade from 'react-reveal'\r\nimport './cources.sass'\r\nimport { Card, Button } from 'antd'\r\nimport Axios from '../lib/axios'\r\n\r\nimport { AddCource } from '../localStorage/add'\r\n\r\nconst Cources = () => {\r\n  const { Meta } = Card\r\n  const Url = useLocation()\r\n  const dispatch = useDispatch()\r\n  const cource = useSelector(state => state.Cource.cources)\r\n\r\n  const { Add, Delete } = AddCource()\r\n\r\n  useEffect(() => {\r\n    if(cource.length === 0) {\r\n    Axios.get('/api/get')\r\n    .then( req => {\r\n      dispatch({\r\n        type: 'COURCES_ADD',\r\n        cources: req.data.cources\r\n      })\r\n    })\r\n    .catch( e => console.log(e) )\r\n    }\r\n  // eslint-disable-next-line\r\n  },[Url.pathname])\r\n  //// удаление и обновление\r\n  const DeleteCource = (id, url) => {\r\n    const Data = {\r\n      id:id , url:url\r\n    }\r\n    Axios.post('/api/delete', Data)\r\n    .then(() => {\r\n      Axios.get('/api/get')\r\n      .then( req => {\r\n        dispatch({\r\n          type: 'COURCES_ADD',\r\n          cources: req.data.cources\r\n        })\r\n        Delete( id )\r\n      })\r\n      .catch( e => console.log(e) )\r\n    })\r\n    .catch(e => console.log(e))\r\n  }\r\n\r\n  return(\r\n    <Fade fraction = {0.1}>\r\n      <div className=\"cources_conteiner flex_center\">\r\n        {\r\n          cource.map((val, index) => {\r\n            return (\r\n            <Card\r\n              key={index}\r\n              hoverable\r\n              style={{ width: 240, margin: '10px' }}\r\n              cover={<img style={{ width: '240px', height: '200px'}} alt=\"example\" src={\"http://qqqwwweee.eu-4.evennode.com/img/\" + val.url} />}\r\n            >\r\n              <Meta title={val.cource} description={val.text + ' от ' + val.price + 'руб.'} />\r\n              <Button\r\n                style={{ marginTop: '10px' }}\r\n                onClick={() => Add( val, 1 )}\r\n              >\r\n                Добавить в корзину\r\n              </Button>\r\n              <Button\r\n                icon=\"delete\"\r\n                style={{ marginTop: '10px' }}\r\n                onClick={() => DeleteCource( val._id, val.url ) }\r\n              >\r\n                Удалить\r\n              </Button>\r\n            </Card>\r\n            )\r\n          })\r\n        }      \r\n      </div>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default Cources","import React, { useState } from 'react'\r\nimport './add.sass'\r\nimport { Form, Icon, Input, Button, Upload, message  } from 'antd'\r\nimport { useDispatch } from 'react-redux'\r\nimport Axios from '../lib/axios'\r\nimport Fade from 'react-reveal'\r\n\r\nconst Add = () => {\r\nconst { TextArea } = Input\r\nconst dispatch = useDispatch()\r\n//////////////\r\nconst [ course, setCourse ] = useState()\r\nconst [ price, setPrice ] = useState()\r\nconst [ text, setText ] = useState()\r\nconst [ img, setImage ] = useState()\r\n\r\nconst [ loadSub, setLoadSub ] = useState(false)\r\n/////// инпут с чилом \r\nconst Addnumber = (val) => {\r\n  if(/^[0-9]+$/.test(val)) {\r\n    setPrice(val)\r\n  }\r\n  if(val === \"\") {\r\n    setPrice('')\r\n  }\r\n}\r\n/////////////// отправка\r\nconst handleSubmit = e => {\r\n  e.preventDefault();\r\n  if( !!course && !!price && !!text && !!img) {\r\n  const Data = new FormData()\r\n  Data.append('course', course )\r\n  Data.append('price', price ) \r\n  Data.append('text', text ) \r\n  Data.append('img', img )\r\n  setLoadSub(true)\r\n  Axios.post('/api/create', Data)\r\n  .then(() => {\r\n    setCourse('')\r\n    setPrice('')\r\n    setText('')\r\n    setImage('')\r\n    setImageUrl('')\r\n    setLoadSub(false)\r\n    message.success('Отправлено')\r\n    Axios.get('/api/get')\r\n    .then( req => dispatch({\r\n      type: 'COURCES_ADD',\r\n      cources: req.data.cources\r\n    }))\r\n    .catch( e => console.log(e) )\r\n  })\r\n  .catch(() => {\r\n    message.error('Ошибка отправки')\r\n    setLoadSub(false)\r\n  })\r\n  } else {\r\n    message.warning('Введите коректные данные')\r\n  }\r\n}\r\n///////////// загрузка изображения //////////////////////\r\nconst [ loading, setLoading ] = useState(false)\r\nconst [ imageUrl, setImageUrl ] = useState(\"\")\r\n/// результат загрузки\r\nconst getBase64 = (img, callback) => {\r\n  const reader = new FileReader();\r\n  reader.addEventListener('load', () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\n/// проверка файла\r\nconst beforeUpload = (file) => {\r\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJpgOrPng) {\r\n    message.error('Вы можете загрузить тока JPG/PNG файл!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 1;\r\n  if (!isLt2M) {\r\n    message.error('картинка должна весить меньше 1мб');\r\n  }\r\n  if(isJpgOrPng &&  isLt2M) {\r\n    setImage(file)\r\n  }\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n///\r\nconst handleChange = info => {\r\n  if (info.file.status === 'uploading') {\r\n    setLoading( true )\r\n  }\r\n  if (info.file.status === 'done') {\r\n    getBase64(info.file.originFileObj, imageUrl =>\r\n      setImageUrl(imageUrl),\r\n      setLoading( false )\r\n    )\r\n  }\r\n}\r\n/// кнопка загрузки\r\nconst uploadButton = (\r\n  <div>\r\n    <Icon type={loading ? 'loading' : 'plus'} />\r\n    <div className=\"ant-upload-text\">Загрузить изображение</div>\r\n  </div>\r\n)\r\n  return(\r\n  <Fade fraction = {0.1}>\r\n    <div className=\"add_conteiner flex_center\">\r\n      <div className=\"add\">\r\n        <h1>Добавить товар</h1>\r\n        <Form layout=\"inline\" onSubmit={e => handleSubmit(e)}>\r\n          <Input\r\n              prefix={<Icon type=\"form\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Название курса\"\r\n              onChange={e => setCourse(e.target.value)}\r\n              value={course}\r\n          />\r\n          <Input\r\n              prefix={<Icon type=\"money-collect\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Цена курса\"\r\n              style={{ marginTop: '30px'}}\r\n              onChange={e => Addnumber(e.target.value)}\r\n              value={price}\r\n          />\r\n          <TextArea\r\n              placeholder=\"Описание курса\"\r\n              style={{ marginTop: '30px', height: '80px'}}\r\n              onChange={e => setText(e.target.value)}\r\n              value={text}\r\n          />\r\n          <div className=\"avatar\">\r\n          <Upload\r\n            name=\"avatar\"\r\n            listType=\"picture-card\"\r\n            className=\"avatar-uploader\"\r\n            showUploadList={false}\r\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n            beforeUpload={beforeUpload}\r\n            onChange={handleChange}\r\n          >\r\n            {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\r\n          </Upload>\r\n          </div>\r\n          <div className=\"avatar flex_center\">\r\n          <Button type=\"primary\" htmlType=\"submit\" disabled={loadSub}>\r\n            отправить\r\n          </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  </Fade>\r\n  )\r\n}\r\nexport default Add","import React, { useState, useEffect } from 'react'\r\nimport './bascet.sass'\r\nimport { List, Typography, Button, message } from 'antd'\r\n\r\nimport Fade from 'react-reveal'\r\nimport { AddCource } from '../localStorage/add'\r\n\r\nconst Bascet = () => {\r\n  const Local = localStorage.getItem('cources') ? JSON.parse(localStorage.getItem('cources')) : []\r\n  const { Add, Perebor, Delete } = AddCource()\r\n  const [ Courses, addCourses ] = useState(Local)\r\n  //// добавление\r\n  const AddLocal = ( item, num ) => {\r\n    const Val = []\r\n    Courses.forEach(val => {\r\n      Perebor( Val, val, item, num, false )\r\n    })\r\n    addCourses(Val)\r\n    Add( item, num )\r\n  }\r\n  //// удаление\r\n  const DeleteCource = (id) => {\r\n    const  result = Delete( id )\r\n    addCourses(result)\r\n  }\r\n  //// итого\r\n  let [ Sum, setSum ] = useState(0)\r\n  useEffect( () => {\r\n    let Res = 0\r\n    Courses.forEach( async val => {\r\n      await setSum(Res = Number(Res + val.price * val.number))\r\n    })\r\n    setSum(Res)\r\n  },[Courses])\r\n  //// Купить\r\n  const Buy = () => {\r\n    if( Sum === 0 ) { message.warning('Корзина пуста') }\r\n    if( Sum !== 0 ) {\r\n      localStorage.clear()\r\n      addCourses([])\r\n      message.success('покупка завершена на сумму: ' + Sum + ' руб.')\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Fade fraction = {0.1}>\r\n    <List\r\n      size=\"small\"\r\n      header={<div>Курсы</div>}\r\n      footer={<div style={{ margin: '0px 10px' }}>Итого: {Sum} ----------->\r\n        <Button style={{ margin: '0px 10px' }} onClick={() => Buy() }> Купить </Button>\r\n      </div>}\r\n      bordered\r\n      dataSource={Courses}\r\n      renderItem={item => (\r\n        <List.Item>\r\n          <Typography.Text style={{ margin: '0px 10px' }} mark>{item.cource}</Typography.Text>Цена: {item.price * item.number} ||\r\n           Количество: {item.number} Опмсание: {item.text} --\r\n           ||\r\n           <Button style={{ margin: '0px 10px' }} icon=\"minus\" onClick={() => AddLocal( item, -1 )} ></Button>\r\n           |\r\n           <Button style={{ margin: '0px 10px' }} icon=\"plus\" onClick={() => AddLocal( item, 1 )} ></Button>\r\n           ||\r\n          <Button onClick={() => DeleteCource(item.id) } style={{ margin: '0px 10px' }} >Удалить</Button>\r\n        </List.Item>\r\n      )}\r\n    />\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default Bascet","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router'\nimport Layout from './layout/layout'\n\nimport Cources from './components/cources'\nimport Add from './components/add'\nimport Bascet from './components/bascet'\n\nconst App = () =>{\n  return (\n    <div className=\"App\">\n      <Layout>\n      <Switch>\n          <Route path=\"/\" exact component={Cources}/>\n          <Route path=\"/bascet\" exact component={Bascet}/>\n          <Route path=\"/add\" exact component={Add}/>\n          <Redirect  to=\"/\" />\n      </Switch>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\r\n  cources: [],\r\n}\r\n\r\nexport default function Tocen (state = initialState, action ){\r\n  switch(action.type){\r\n    case 'COURCES_ADD':\r\n      let cources = [ ...state.cources ]\r\n      cources = action.cources\r\n      return {\r\n        ...state, cources\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}","import {combineReducers} from 'redux'\r\nimport Cource from './cource/cource'\r\n\r\nexport default combineReducers ({\r\n    Cource\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.sass';\nimport 'antd/dist/antd.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nimport {createStore, compose, applyMiddleware} from 'redux'\nimport {Provider} from 'react-redux'\nimport {BrowserRouter} from 'react-router-dom'\nimport thunk from 'redux-thunk'\nimport rootReducer from './redux/reduser/rootreduser'\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    }) : compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(\n    applyMiddleware(thunk)\n  )\n) \n\nconst app = (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n)\n  \n\nReactDOM.render(app, document.getElementById('root'));\n\nserviceWorker.unregister();"],"sourceRoot":""}